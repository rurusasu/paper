# The Official Generative Machining ASCII CLDATA Output Specification August 9, 2000 Version 8.1.1

# 1. ASCII CLDATAボキャブラリー

Generative Machining ASCII cldata 出力のフォーマットを規定する。**この出力は ISO-4343 1978規格に基づくものである。** 括弧 [ ,aaa | ,bbb | ,ccc ] で囲まれたパラメータは、パラメータの選択肢を示す。縦棒|は選択肢を分割する。中括弧{xxx, yyy, zzz}で囲まれたパラメータは、オプションのパラメータを示す。選択肢のあるオプションのパラメータは、中括弧と大括弧{[ ,xxx | ,yyy | ,zzz ]}で囲まれます。括弧や中括弧で囲まれた項目の前にある ~ 記号は、その項目が 1 回以上繰り返せることを示す。大文字で指定されたパラメータは、フォーマット内で文字通りに使用されます。その他のパラメータで有効な項目は、コマンドの書式に続いて詳述する。

## 1.1. モーションの定義と制御コマンド

### 1.1.1. GOTO

この文は、現在の送り速度（FEDRATで与えられる）で直線運動を生成する。

```math
  \bm{GOTO / x, y, z\{, i, j, k\}}
```

| 変数 | タイプ | 概要 |
| --- | --- | --- |
| x | 実数 | X軸の位置 |
| y | 実数 | Y軸の位置 |
| z | 実数 | Z軸の位置 |
| i | 実数 | 工具軸ベクトルのX軸成分 |
| j | 実数 | 工具軸ベクトルのY軸成分 |
| k | 実数 | 工具軸ベクトルのZ軸成分 |

使用方法
IJK値は MULTAX モードでのみ出力され、MULTAX/ON ステートメントで宣言する必要があります．

### 1.1.2. MOVARC

```math
  \bm{MOVARC / x1, y1, z1, i, j, k, r, ANGLE, a} \\
  \bm{GOTO / x2, y2, z2\{, i2, j2, k2\}}
```

| 変数 | タイプ | 概要 |
| --- | --- | --- |
| x1 | 実数 | 円弧中心のX軸方向位置 |
| y1 | 実数 | 円弧中心のY軸方向位置 |
| z1 | 実数 | 円弧中心のZ軸方向位置 |
| i | 実数 | 円弧(円)軸ベクトルのX軸方向成分 |
| j | 実数 | 円弧(円)軸ベクトルのY軸方向成分 |
| k | 実数 | 円弧(円)軸ベクトルのZ軸方向成分 |
| r | 実数 | 円弧の半径 |
| a | 実数 | 中心角 |
| x2, y2, z2 | 実数 | 円弧終了点 |

使用方法
MOVARC文の直前のGOTO文またはMOVARC文が円の始点となります。例えば

<img src=https://raw.githubusercontent.com/rurusasu/paper/master/CAD_CAM/The%20Official%20Generative%20Machining%20ASCII%20CLDATA%20Output%20Specification/%E7%94%BB%E5%83%8F/fig1.png>

この例では、円弧の始点は0,2,0である。円弧の中心は 0,0,0 で、円柱の軸は 0,0,-1 である（-1 は時計回り、正のベクトルは反時計回り、すなわち右手の法則を意味する）。円弧の半径は2、終点は2,0,0である。

MOVARCの後には、終点の座標を指定するGOTO文を1つ記述する必要があります。

MOVARC は、XYZ モードだけでなく、XYZIJK（multax）モードでも出力されます。

MOVARC は、全平面の円運動に対して出力されます。

### 1.1.3. GOHOME

この文は、プログラマが指定した原点に工具を移動させるために使用されます。実際の位置は、FROM文の値から導き出すか、ポストプロセッサで決定することができる。

```math
  \bm{GOHOME}
```

使用方法
GOHOME文は、Generative Machiningでは出力されません。ユーザーがTransition moveやツールパスの編集で追加することができます。

## 1.2. Cycle ステートメント
### 1.2.1. CYCLE - General

Cycle文は、ドリル加工やタップ加工などの軸加工において、工作機械のサイクルモードを指示するために使用されます。サイクル文の後には必ず、サイクルを実行する x,y,z {I,j,k} 位置を示す GOTO コマンドが続きます。GOTO文の座標は、ユーザが選択した穴です。サイクルは、サイクルの種類を変更する別のサイクル文がプログラムされるまで有効であり、CYCLE／OFF CLDATAレコードでキャンセルされる。

Generative MachiningにおけるCYCLE文は、一般的な形式を持つ。

```math
  \bm{CYCLE / type, d, feedunits, f, c, {RAPTO, r}} \\
  \bm{GOTO / x, y, z {, i, j, k}} \\
  .
```

```math
  . \\
  \bm{GOTO / x, y, z, {, i, j, k}} \\
  \bm{CYCLE / OFF}
```

| 変数 | タイプ | 概要 |
| --- | --- | --- |
| type | テキスト | サイクルタイプ BORE、BRKCHP、DEEP、DRILL、FACE、REAM、TAP |
| d | 実数 | GOTO Z値から最終深度まで穴軸に沿って測定した深度 |
| feedunits | テキスト | 送り速度タイプ IPM, IPR, MMPM, MMPR |
| f | 実数 | 送り速度 |
| c | 実数 | クリアランス距離 GOTO Z値からクリアランス面までの距離で、穴の軸に沿って測定した値 |
| r | 実数 | 早送り距離 クリアランス面の値からR面（工具が送り速度で動き始める場所）まで穴軸に沿って測定される。 |

<img src=https://raw.githubusercontent.com/rurusasu/paper/master/CAD_CAM/The%20Official%20Generative%20Machining%20ASCII%20CLDATA%20Output%20Specification/%E7%94%BB%E5%83%8F/fig5.png>

<img src=https://raw.githubusercontent.com/rurusasu/paper/master/CAD_CAM/The%20Official%20Generative%20Machining%20ASCII%20CLDATA%20Output%20Specification/%E7%94%BB%E5%83%8F/fig6.png>

使用方法
どのサイクルにおいても、DWELL 値が0であったり、設定されていない場合は、DWELL連番を出力してはならない。

1回の動作で複数の穴についてCYCLEパラメータが同じ場合、1つのCYCLE文に続いて複数のGOTO文が出力されます。

<img src=https://raw.githubusercontent.com/rurusasu/paper/master/CAD_CAM/The%20Official%20Generative%20Machining%20ASCII%20CLDATA%20Output%20Specification/%E7%94%BB%E5%83%8F/fig6.png>