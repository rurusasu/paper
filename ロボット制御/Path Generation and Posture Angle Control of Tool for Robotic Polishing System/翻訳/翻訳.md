# Path Generation and Posture Angle Control of Tool for Robotic Polishing System

# 備考
## 著者
Shenshun Ying, Shi Ji, Ming Jin

## 掲載
``Path Generation and Posture Angle Control of Tool for Robotic Polishing System," Journal of Advanced Materials Research, Vols. 102--104, pp. 568--572.


# Abst
仕上げの品質と効率を向上させるために、産業用ロボットが複雑な形状のワークのキャビティを研磨するために使用されています。本稿では、経路生成、工具姿勢制御、Gコード変換など、ロボット研磨システムのキーテクノロジーを紹介します。ロボットの経路データは、NCデータから自動的に生成され、ロボット研磨技術の要求に応じて、工具の姿勢角度がロボット研磨経路に追加されます。金型研磨工程のパスデータと工具姿勢角を含むプログラムを自動生成する専用ソフトウェアを開発し、このプログラムをロボットコントローラにアップロードします。

# 1. Intro

研磨作業は、高価で時間のかかる作業であり、人間の作業者によって行われ続けています。 作業者の中には、粉塵や騒音などの劣悪な労働環境を理由に、研磨作業を徐々に避ける傾向があります[1]。産業用ロボットが、この危険で単調な作業から熟練労働者や半熟練労働者を解放することは重要です。複雑な形状の金型キャビティをロボットシステムで研磨する研究がいくつか報告されています[2, 3]。中でも、ロボットのエンドエフェクタの位置・姿勢データを表現するための技術は数多く発表されている[4-7]。しかし，滑らかな表面仕上げや精度の面では満足できるレベルには達しておらず，特に実現性は低い．**本論文では、複雑な金型キャビティのロボット研磨の要求に応えることを目的として、工具姿勢角計画、研磨アプリケーション用ロボットプログラム、Gコード変換からなるロボット研磨システムのキーテクノロジーを紹介する。**

# 2. ロボット式研磨装置

ロボット研磨システムの概略図をFig.1に示す。本システムは、エアコンプレッサー、空気圧制御ユニット、直流電流／電圧安定化電源・速度制御ユニット、ガスバッグ研磨ツール、6自由度産業用ロボット、専用ロボットコントローラ、PCで構成されている。PCは、CPUにインテル2.5GHz、メモリに2GB RAMを使用。ロボットには、連続的な反力に耐える能力、手首の剛性、防塵性などが求められる。 そこで本研究では、日本の安川社製のMotoman hp20を選択しました。 このロボットは、組立、ハンドリング、マシンテンディング、パッケージング、パレタイズ、塗装、溶接など、フレキシブルな製造業で広く使用されている。6自由度の多関節ロボットで、ハーモニックドライブやタイミングベルト、RV減速機の代わりに高精度の減速機を使用しています。

また、このロボットには専用のコントローラー（NX100）が使用されており、ロボットの制御データをPCと二極送信しています。オペレーターがPCを介してロボットコントローラーに一連のデータをアップロードすると、ロボットは研磨作業を実行します。

# 3. 研磨アプリケーションのパス生成

ロボットツールが研磨経路を正確にトレースするためには、位置と向きのデータをロボットコントローラに提供する必要があります。移動経路上のロボットの位置と姿勢の両方のデータを含むロボット制御データは、コンピュータ支援製造（一般にCAMと略される）モジュールに基づいて生成することができる。本論文で使用されているCAMシステムは、最も人気のある3次元CAD／CAMソフトウェアパッケージの1つであるUG NX3です。このシステムは、NC加工プロセスのための自動プログラムツール（通称APT）ソースを生成します。 UGから得られたAPTソースは、カッターコンタクトデータに変換され、最終的に標準的なCNC G-Codeプログラムに書き込まれる。変換されたカッターコンタクトデータの各点は、3つの位置座標（すなわち、X、Y、Z）と3つの方向（すなわち、a、b、c）で構成されており、位置座標はロボット研磨用のパスデータに抽出されます。

三次元の研磨経路は，任意の傾斜面や自由曲面上に生成することができる．本論文では，研磨実験に用いた軟鋼ブロックをFig.2に，往復パターンを用いて生成した研磨経路をFig.3に示す。

# 5. G-code converting

ここでは、前工程のNCデータからロボットのパスデータを自動生成する専用ソフトウェアを開発しました。このプログラムでは、UG／CAMシステムから生成された標準的なCNC G-Codeプログラムが、ロボット研磨を制御するためのMotomanロボットプログラムに変換されます。ソフトウェアは、Visual C++ 6.0環境で開発されており、プログラム全体の構成を図5に示します。

変換されたロボットプログラムには、I／Oなどの非動作コマンド（パスデータ、オリエンテーション、補間、速度など）が含まれています。30,000点もの大規模なCNCプログラムを約1～5分で変換し、完成させて実行することができます。本ソフトウェアは、WCSの原点となる入力のためのインターフェースを提供します。Momtomanロボットは999点以下のデータしか読めないので、CNCプログラムが変換された後、ソフトウェアはパスデータを自動的に複数のファイルに分割します。

最終的に研磨プログラムがロボットコントローラにアップロードされ、ロボットが動作します。

# 6. 実験と結果

この論文での実験では，ワークピースは機械加工された軟鋼のブロックである。三次元形状はソフトウェアUGで設計されています。このモデリングデータは、NC加工用のAPTソースに変換され、ロボットコントローラにロボットの研磨データを与える。研磨実験のワークとして使用した軟鋼ブロックをFig.2に示す。金型は直径8mmのボールエンドミルで0.3mmの送り幅で加工されている。金型は単純な凸面（180mm-60mm）である。金型の研磨経路データをFig.3に示す。スピンドルは3600rpmの一定速度で回転しています。研磨パラメータの詳細を表1に示します。

ツールと金型の接触面積を増やすために、Fig.6のように研磨パッドと研磨フィルムの間にウレタンゴムを挿入している。最終工程を経て鏡面仕上げされた金型をFig.7に示す。

本論文では，ロボット研磨システムの概略図を作成した．CNCのGコードプログラムからパスデータを抽出する方法を提案し、工具の向きを表現する方法を議論した。ロボット研磨作業のために、CNCプログラムをMotomanロボットプログラムに変換する専用ソフトウェアを開発した。実験を行い、ロボット研磨のためのツールパス生成と姿勢角制御の正確さと効率性を実証した。