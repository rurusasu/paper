# Multi Manipulator Cooperative 3D Printing Based on Dobot Manipulator

# Abstract

「マルチマニピュレータ協調3Dプリント」は、製造業や航空・宇宙分野での難物・高コスト・大型ワークの製造に関する問題を解決するために提唱されたものです。Dobotマニピュレータの3Dプリント機能をベースに、マニピュレータのプログラム制御を実現するためにPython言語を用いて開発されました。このマニピュレーターは、協調的な3Dプリントを実現するためにタイトコーディネーション方式を採用しており、レイヤー処理やスキャン充填などの作業をプログラミングで仕上げています。

# Introduction

マニピュレーターは、ロボットの重要な一分野であり、その開発の初期目標は、複雑で危険な繰り返し作業から人間を解放することであるとされている。3Dプリンティング技術は、光学、電気、コンピュータ、CNCマシン、新素材などの分野が一体となって急速に発展している高度な制御技術であり、第3次産業革命をリードする製造技術と呼ばれている[1]。3Dプリンティングにおけるマニピュレータの使用は、より多くの研究者の注目を集めている。

本論文では、製造業や航空・宇宙分野における大型ワークの困難な製造や高コスト化に対して、「マルチロボットアーム協調3Dプリント」を提案する。建築構造物、大型機械部品、大型・中型船舶部品などの製造工程における顕著な問題点に鑑みて。高額なコストがかかり、加工・製造が完了するまでに数ヶ月から数年かかることも少なくありません。マルチロボットによる協働作業を導入し、3Dプリント技術と組み合わせることで、生産コストを大幅に削減し、生産スピードを向上させることが可能になります。このような技術の研究成果は、製造業における極めて重要な大型対象物、あるいはプロジェクトの実施に良い影響を与え、幅広い市場が見込まれています。

現在、海外ではRobot Cooperative 3D printingの研究にブレークスルーがありました。SIEMENS社のスパイダーロボットが、大きな物体の3Dプリントを共同で行うことができました。また、2台の溶接ロボットを使って3Dプリントに協力するオランダMX3D社の「MX3Dブリッジ」も2018年6月に完成予定です。そして、中国でのRobot Cooperative 3D printingの研究には、まだ多くのスペースがあります。

この記事では、Dobotマニピュレータの3Dプリント機能を、Pythonを使って マニピュレーターの開発を行いました。大きなワークの構造を分析した後、ロボットアームにタスクを割り当てること ロボットアームへのタスクの割り当て、アリコロニーアルゴリズムによる軌道設計、並列3Dアルゴリズムの設計を行い 協調印刷を実現します。

# 2. マニピュレーターの3Dプリント機能の開発について

## 2.1. The 3D printing function of the Dobot manipulator

Dobot社のマニピュレーターは、図1に示すように、4軸のマニピュレーター構造で、操作精度は0.2mmに達し、3セットのステッピングモータードライバーを使用し、2つの角度センサーを備え、より完全な機能的ユーザー同意を提供します。このプロトコルにより、コンピュータとのシリアル通信やBluetooth通信で制御することができます。書く、彫る、掴む、3Dプリントなどの複雑な動作や作業を行うことができます。

Dobot社の3Dプリント用アクセサリーは取り付けが簡単で、アクセサリーにはエクストルーダー、ホットエンド、モーター線、材料が含まれています。Dobotマニピュレーターの制御はDobotStudioソフトウェアによるもので、3Dプリント用のスライスソフトウェアRepetier-Hostが内蔵されています。

Dobotの3Dプリント操作はとても便利です。USBインターフェイスを使用して、マニピュレーターを コンピュータに接続し、3Dプリント機能に切り替えることができます。プリンタのパラメータは のパラメータを設定することができます。プリントする前に、エクストルーダーの動作が正常であることをテストします。次に モデルをインポートして、スライスパラメータを設定し、スライスしてプリントを開始します。完成した製品は、例えば図 2のような完成品は、明確な質感と滑らかな表面を持っています。

その3Dプリントは汎用のSTLフォーマットを使用しており、取り込んだモデルは3Dモデリングソフトで設計し、STLドキュメントに変換することができます。

## 2.2. Using Python to control the motion of the manipulator

メカニカルアームの動きは非常に重要です。マニピュレーターは3Dプリンターと連動しており、メカニカルアームで動作しますので、メカニカルアームには高い性能が求められます。Dobotマニピュレータの動作精度は0.2mmに達し、プログラムで動作方向を制御しています。本論文では、プログラムは可読性に優れたPython言語で記述して使用しています。

Python Demoは、Dobotのユーザーファイルの中に、DobotControl.pyとDobotDllType.pyの2つのファイルがあります。DobotDllType.pyは、DobotのPython APIファイルです。DobotControl.pyはDobotのPython APIファイルで、マニピュレータのPoint to Point制御や関節動作などの機能を含むDobotのダイナミックリンクライブラリをカプセル化しています。Pythonプログラムを作成する際に直接呼び出すことができます。DobotControl.pyは、具体的な実装ファイルです。DobotのダイナミックリンクライブラリをPythonの実行ディレクトリに置くか、システム環境変数にDobotのダイナミックリンクライブラリのパスを追加することで、Pythonでのプログラミングでマニピュレータの動きを制御することができます。

既存のPython Demoの操作プログラムをベースに、線、円、矩形、三角、星などの基本的な2次元グラフィックスのプログラムをカプセル化し、共同印刷のためのソフトウェアを準備しています。 それぞれの2次元グラフィックスプログラムは、グラフの位置や大きさを設定できると同時に、異なる始点と終点を設定すれば、2次元グラフィックスの部分的な軌跡移動も実現できるという。そのため、複雑で不規則なグラフィックの組み合わせを実現することができます。

## 2.3. Combining Python control to realize the printing of structural parts
3Dモデルを印刷する際には、3Dデジタルモデルを2次元のグラフィック情報に切り分け、2次元のグラフィックを印刷し、2次元のグラフィックを重ねることで、完全な3Dグラフィックを得る必要があります。分割されたシートの厚さは、印刷材料の特性とプリンターの仕様によって決定される[1]。3Dプリントでは、レイヤー処理と重ね合わせにより、3Dソリッドプリントを完成させていました。

マニピュレーターの動作精度に合わせて、各レイヤー終了後にZ軸方向に0.2mm増加するように設定しています。をZ軸方向に増加させるように設定されています。印刷物の層数は 印刷物のレイヤー数は、DobotStudioに3Dモデルを導入してスライスするスライス数によって決まります。次に 最も重要なステップは、印刷効率と印刷精度を向上させるためのパスを計画することです。

各レイヤーの最初のステップは、アウトラインの印刷です。アリ・コロニー・アルゴリズム[2]に基づいて、より水平なものを得るための経路を計画し、プログラミングのためにアウトラインの始点と終点を記録します。そして、最も重要なのは、スキャンでの塗りつぶしです。比較的小さな面積の場合は、輪郭スキャン法[3]を使って心臓の中心を形成することができます。大面積の場合は、最初にグラフィックスを分離する必要がありますが、図3に示すように、各パーツをパラレル・スキャン・アルゴリズムで実装することができます。

パラレルスキャンを使用する場合，スキャン距離が同じであれば，より大きな誤差が生じることになる[4]。この問題を解決するために，BIAN[5]は適応的なスペーシング・アルゴリズムを提案した。WURIKAIXIなど[4]は，走査距離が成形精度に与える影響を研究し，適切な走査距離の選択や適応アルゴリズムの最適化の基礎とした。

# 3. Multi manipulator cooperative 3D printing
